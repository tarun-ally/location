{"ast":null,"code":"var _jsxFileName = \"/home/tarun/learning/myOwnProject/nodejs-express-mongodb/frontend/location/src/components/dashboard/rightSection/topModal.js\",\n    _s = $RefreshSig$();\n\nimport React, { useEffect, useState } from 'react';\nimport { useSelector, useDispatch } from 'react-redux';\nimport { putEvent } from '../../../actions/dataActions';\nimport \"./topModal.scss\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nexport default function TopModal(props) {\n  _s();\n\n  const [inputData, setInputData] = useState({});\n  const event = useSelector(state => state.dataReducer.selectedEventMeta[0]);\n  const dbList = useSelector(state => state.dataReducer.dbList);\n  const dispatch = useDispatch();\n  const allowed = [\"description\"];\n  const hiddenIndices = [5, 7, 8, 9, 10, 19, 20, 21, 22, 23, 24, 25];\n  const keys = Object.keys(event);\n  const displayLabels = [\"Event Id\", \"Tanent\", \"Table Name\", \"Table Type\", \"Description\", \"Ingestion Statergy\", \"Inception Date\", \"DB Type\", \"DB Name\", \"DB Instance\", \"DB Table\", \"Rollup Column\", \"Ordering Column\", \"Write Mode\", \"Session Type\", \"Refresh Frequency\", \"Data available till\", \"Is Compacted\", \"Partition Type\", \"Has PII\", \"Created On\", \"Updated On\", \"Schema Version\", \"dbConnectionId\"];\n\n  const handleInput = (e, key) => {\n    setInputData(prevState => {\n      const newState = { ...prevState\n      };\n      newState[key] = e.target.value;\n      return newState;\n    });\n  };\n\n  const handleOnChange = e => {\n    setInputData(prevState => {\n      const newState = { ...prevState\n      };\n      newState.dbConnectionId = e.target.value;\n      return newState;\n    });\n  };\n\n  const handleOnSubmit = () => {\n    dispatch(putEvent(inputData));\n    props.closeModal();\n  };\n\n  useEffect(() => {\n    setInputData(event);\n  }, [event]);\n  return /*#__PURE__*/_jsxDEV(_Fragment, {\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"top-editor-container\",\n      children: [Object.keys(event).map((item, index) => /*#__PURE__*/_jsxDEV(\"div\", {\n        className: `row ${hiddenIndices.includes(index) ? \"hidden\" : null}`,\n        children: [/*#__PURE__*/_jsxDEV(\"p\", {\n          children: displayLabels[index]\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 80,\n          columnNumber: 29\n        }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n          disabled: !allowed.includes(keys[index]),\n          value: inputData[item],\n          onChange: e => handleInput(e, item)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 81,\n          columnNumber: 29\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 79,\n        columnNumber: 25\n      }, this)), event.type === \"TRANSACTIONAL\" && /*#__PURE__*/_jsxDEV(\"div\", {\n        className: `row null`,\n        children: [/*#__PURE__*/_jsxDEV(\"p\", {\n          children: \"DB Details\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 88,\n          columnNumber: 25\n        }, this), /*#__PURE__*/_jsxDEV(\"select\", {\n          defaultValue: event.dbConnectionId,\n          onChange: handleOnChange,\n          children: [/*#__PURE__*/_jsxDEV(\"option\", {\n            hidden: true,\n            children: \"None\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 90,\n            columnNumber: 29\n          }, this), dbList.map(item => /*#__PURE__*/_jsxDEV(\"option\", {\n            value: item.connectionId,\n            children: [item.dbName, \" : \", item.dbInstance]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 92,\n            columnNumber: 54\n          }, this))]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 89,\n          columnNumber: 25\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 87,\n        columnNumber: 21\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 76,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"submit-container\",\n      children: /*#__PURE__*/_jsxDEV(\"button\", {\n        onClick: handleOnSubmit,\n        children: \"Submit\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 100,\n        columnNumber: 17\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 99,\n      columnNumber: 13\n    }, this)]\n  }, void 0, true);\n}\n\n_s(TopModal, \"EIaoR1G5ViYuHSwvrJ4WWbLql38=\", false, function () {\n  return [useSelector, useSelector, useDispatch];\n});\n\n_c = TopModal;\n\nvar _c;\n\n$RefreshReg$(_c, \"TopModal\");","map":{"version":3,"names":["React","useEffect","useState","useSelector","useDispatch","putEvent","TopModal","props","inputData","setInputData","event","state","dataReducer","selectedEventMeta","dbList","dispatch","allowed","hiddenIndices","keys","Object","displayLabels","handleInput","e","key","prevState","newState","target","value","handleOnChange","dbConnectionId","handleOnSubmit","closeModal","map","item","index","includes","type","connectionId","dbName","dbInstance"],"sources":["/home/tarun/learning/myOwnProject/nodejs-express-mongodb/frontend/location/src/components/dashboard/rightSection/topModal.js"],"sourcesContent":["import React, { useEffect, useState } from 'react'\nimport { useSelector, useDispatch } from 'react-redux'\n\nimport { putEvent } from '../../../actions/dataActions'\n\nimport \"./topModal.scss\"\nexport default function TopModal(props) {\n    const [inputData, setInputData] = useState({})\n    const event = useSelector((state) => state.dataReducer.selectedEventMeta[0])\n    const dbList = useSelector((state) => state.dataReducer.dbList)\n    const dispatch = useDispatch()\n\n\n\n    const allowed = [\"description\"]\n    const hiddenIndices = [5, 7, 8, 9, 10, 19, 20, 21, 22, 23, 24, 25]\n    const keys = Object.keys(event)\n    const displayLabels = [\n        \"Event Id\",\n        \"Tanent\",\n        \"Table Name\",\n        \"Table Type\",\n        \"Description\",\n        \"Ingestion Statergy\",\n        \"Inception Date\",\n        \"DB Type\",\n        \"DB Name\",\n        \"DB Instance\",\n        \"DB Table\",\n        \"Rollup Column\",\n        \"Ordering Column\",\n        \"Write Mode\",\n        \"Session Type\",\n        \"Refresh Frequency\",\n        \"Data available till\",\n        \"Is Compacted\",\n        \"Partition Type\",\n        \"Has PII\",\n        \"Created On\",\n        \"Updated On\",\n        \"Schema Version\",\n        \"dbConnectionId\"\n    ]\n\n    const handleInput = (e, key) => {\n        setInputData((prevState) => {\n            const newState = { ...prevState }\n            newState[key] = e.target.value\n            return (\n                newState\n            )\n        })\n    }\n    const handleOnChange = (e) => {\n        setInputData((prevState) => {\n            const newState = { ...prevState }\n            newState.dbConnectionId = e.target.value\n\n            return (\n                newState\n            )\n        })\n    }\n\n    const handleOnSubmit = () => {\n        dispatch(putEvent(inputData))\n        props.closeModal()\n    }\n\n    useEffect(() => {\n        setInputData(event)\n    }, [event])\n\n    return (\n        <>\n            <div className=\"top-editor-container\">\n                {\n                    Object.keys(event).map((item, index) =>\n                        <div className={`row ${hiddenIndices.includes(index) ? \"hidden\" : null}`} >\n                            <p>{displayLabels[index]}</p>\n                            <input disabled={!allowed.includes(keys[index])} value={inputData[item]} onChange={(e) => handleInput(e, item)}></input>\n\n                        </div>\n                    )\n                }\n                {(event.type === \"TRANSACTIONAL\") &&\n                    <div className={`row null`} >\n                        <p>DB Details</p>\n                        <select defaultValue={event.dbConnectionId} onChange={handleOnChange}>\n                            <option hidden={true}>None</option>\n                            {\n                                dbList.map((item) => <option value={item.connectionId}>{item.dbName} : {item.dbInstance}</option>)\n                            }\n                        </select>\n                    </div>\n                }\n\n            </div>\n            <div className=\"submit-container\">\n                <button onClick={handleOnSubmit}>Submit</button>\n            </div>\n        </>\n\n\n    )\n\n\n\n}"],"mappings":"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"},"metadata":{},"sourceType":"module"}